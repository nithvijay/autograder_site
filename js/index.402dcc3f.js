(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&b.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={index:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2341:function(e,t,n){},"565d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function s(e,t,n,s,a,o){var i=Object(r["H"])("header-bar"),c=Object(r["H"])("router-view");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["l"])(i),Object(r["l"])(c,null,{default:Object(r["S"])((function(e){var t=e.Component;return[(Object(r["C"])(),Object(r["g"])(Object(r["I"])(t)))]})),_:1})])}var a={class:"py-4 bg-green-700"},o={class:"items-center justify-between md:flex"},i={class:"gap-1 md:space-x-4 md:ml-6 md:flex"},c=Object(r["j"])("div",{class:"px-3 py-2 text-xl font-bold text-white"},"Autograding Bundler",-1),l=Object(r["k"])(" Home "),u=Object(r["k"])("R Grading "),d={key:0,class:"md:mr-6 md:flex"},b=Object(r["k"])(" Account "),m={key:1,class:"md:mr-6 md:flex"},g=Object(r["k"])(" Login ");function f(e,t,n,s,f,j){var p=Object(r["H"])("router-link");return Object(r["C"])(),Object(r["i"])("nav",a,[Object(r["j"])("div",o,[Object(r["j"])("div",i,[c,Object(r["l"])(p,{to:{name:"Home"},class:"router-link"},{default:Object(r["S"])((function(){return[l]})),_:1}),Object(r["l"])(p,{to:{name:"Grading"},class:"router-link"},{default:Object(r["S"])((function(){return[u]})),_:1})]),e.isLoggedIn?(Object(r["C"])(),Object(r["i"])("div",d,[Object(r["l"])(p,{class:"router-link",to:{name:"Account"}},{default:Object(r["S"])((function(){return[b]})),_:1})])):(Object(r["C"])(),Object(r["i"])("div",m,[Object(r["l"])(p,{class:"router-link",to:{name:"Login"}},{default:Object(r["S"])((function(){return[g]})),_:1})]))])])}var j=n("5530"),p=n("5502"),O={methods:Object(j["a"])({},Object(p["b"])("AuthModule",[""])),computed:Object(j["a"])({},Object(p["e"])("AuthModule",["isLoggedIn"]))},h=(n("dabf"),n("6b0d")),v=n.n(h);const x=v()(O,[["render",f]]);var w=x,y={components:{HeaderBar:w}};n("daae");const k=v()(y,[["render",s]]);var $=k,C=n("6c02"),R={class:"p-6 mx-auto mt-5 border-2 shadow-lg md:w-9/12 xl:max-w-4xl"},S=Object(r["j"])("div",{class:"text-xl font-bold"},"Autograding Bundler",-1),E=Object(r["j"])("div",null,[Object(r["j"])("p",null,' This site helps you make "bundles" for autograding. Currently, we support the following: '),Object(r["j"])("ul",{class:"list-inside list-square"},[Object(r["j"])("li",null,"Autograding in Gradescope with R")]),Object(r["j"])("br"),Object(r["j"])("p",null,"These are some more features we have planned:"),Object(r["j"])("ul",{class:"list-inside list-square"},[Object(r["j"])("li",null,"Autograding in Gradescope with Python"),Object(r["j"])("li",null,"Autograding in Gradescope with Python via OtterGrader"),Object(r["j"])("li",null,"Autograding Locally with R")])],-1),A=[S,E];function P(e,t,n,s,a,o){return Object(r["C"])(),Object(r["i"])("div",R,A)}var T={name:"HomeView"};const L=v()(T,[["render",P]]);var I=L;function M(e,t,n,s,a,o){var i=Object(r["H"])("router-view");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["l"])(i,null,{default:Object(r["S"])((function(e){var t=e.Component;return[(Object(r["C"])(),Object(r["g"])(Object(r["I"])(t)))]})),_:1})])}var N={};const _=v()(N,[["render",M]]);var G=_,D=(n("a15b"),{class:"mx-auto mt-5 border-2 rounded shadow-lg md:w-11/12 xl:max-w-7xl"}),F={class:"flex items-center justify-between"},q=Object(r["j"])("span",null,"Instructions",-1),K=Object(r["j"])("div",{class:"px-2 pt-2 pb-1 text-gray-500"},[Object(r["k"])(" This page is for Autograding with Gradescope for R with gradeR. After filling out the required fields, the website produces a "),Object(r["j"])("code",null,"data.zip"),Object(r["k"])(", which can then be uploaded to Gradescope. ")],-1),U=Object(r["j"])("span",null,"Assignment Name",-1),H=Object(r["j"])("div",{class:"px-2 pt-2 pb-1 text-gray-500"}," Assignment name is required. It is the name of the assignment that students submit to Gradescope. Every submission has to have this title, or the autograder will not work properly. In addition, the file names are case-sensitive. ",-1),V=Object(r["j"])("span",null,"Additional Packages",-1),B=Object(r["j"])("div",{class:"px-2 pt-2 pb-1 text-gray-500"},[Object(r["k"])(" If there are any additional packages needed, list them here with a comma in between. Currently, there is not support for a set-up section for tests (for calling "),Object(r["j"])("code",null,"library()"),Object(r["k"])("), so tests involving libraries need to prefaced for each function, e.g. "),Object(r["j"])("code",null,"stringr::str_count()"),Object(r["k"])(". Students can still use libraries as normal. ")],-1),z=Object(r["j"])("span",null,"Datasets",-1),J=Object(r["j"])("div",{class:"px-2 pt-2 pb-1 text-gray-500"},[Object(r["k"])(" As many datasets can be added as desired, but the total size must be less than 10 MB (This will change in future updates). Students must reference the dataset from the same directory as the submission file, i.e. "),Object(r["j"])("code",null,'read.csv("dataset.csv")'),Object(r["k"])(". The following will not work "),Object(r["j"])("code",null,'read.csv("data/dataset.csv")'),Object(r["k"])(". The working directory should not be changed either, so students must comment out "),Object(r["j"])("code",null,"setwd()"),Object(r["k"])(" if used. ")],-1),Y=Object(r["j"])("span",null,"Tests",-1),W=Object(r["j"])("div",{class:"px-2 pt-2 pb-1 text-gray-500"},[Object(r["k"])(" At least one test is required to create the bundle. The code section for each test expects a "),Object(r["j"])("code",null,"TRUE"),Object(r["k"])(" if the answer is correct. ")],-1),Q={key:0,class:"mx-auto mt-5 rounded shadow-lg md:w-11/12 xl:max-w-7xl"},X={class:"flex flex-col bg-gray-100 rounded"},Z={key:0,class:"flex flex-col gap-4 mx-4 mt-4 mb-5"},ee={class:"flex items-center justify-between gap-2"},te=Object(r["j"])("i",{class:"fas fa-chevron-left"},null,-1),ne=Object(r["k"])(" Back to List "),re={key:0,class:"text-green-700"},se=Object(r["k"])("Autosaved "),ae=Object(r["j"])("i",{class:"fas fa-check"},null,-1),oe=[se,ae],ie={key:1,class:"text-green-700"},ce=Object(r["k"])("Saving "),le=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),ue=[ce,le],de={key:1,class:"mx-4 mt-4 mb-2"},be={class:"p-2 text-orange-700 bg-orange-100 border-l-4 border-orange-500",role:"alert"},me=Object(r["j"])("p",{class:"font-bold"},[Object(r["j"])("i",{class:"fas fa-exclamation-triangle"}),Object(r["k"])(" Your Progress Will Not be Saved ")],-1),ge=Object(r["k"])("Login"),fe=Object(r["j"])("span",null," or ",-1),je=Object(r["k"])(" Create an Account "),pe={class:"flex flex-col gap-2 p-2 mx-4 mb-4 bg-white border-gray-200 rounded shadow-md"},Oe={class:"grid items-center justify-center grid-cols-6 gap-2 lg:grid-cols-12"},he={class:"col-span-6 my-4"},ve={class:"flex flex-wrap justify-center col-span-6"},xe={class:"flex items-center"},we=Object(r["j"])("label",{class:"ml-1 mr-2 cursor-pointer",for:"datasetCheckbox"}," Dataset(s) ",-1),ye={class:"flex items-center"},ke=Object(r["j"])("label",{class:"ml-1 mr-2 cursor-pointer",for:"packageCheckbox"}," Package(s) ",-1),$e={class:"flex items-center"},Ce=Object(r["j"])("label",{class:"ml-1 mr-2 cursor-pointer",for:"setupCheckbox"}," Setup ",-1),Re={class:"flex flex-wrap gap-2"},Se={key:0,class:"flex-1"},Ee={key:1,class:"flex-1"},Ae={class:"flex gap-2 transition duration-150 ease-linear bg-white border border-gray-500 rounded shadow-md cursor-pointer hover:border-green-800"},Pe=Object(r["j"])("div",{class:"px-4 py-2 bg-gray-200 rounded-l"},[Object(r["j"])("i",{class:"fas fa-cloud-upload-alt"})],-1),Te={key:0,class:"py-2 pr-4"},Le={key:1,class:"py-2 pr-4 font-mono"},Ie={key:0,class:"p-2 text-red-700 bg-red-100 border-l-4 border-red-500",role:"alert"},Me={class:"font-bold"},Ne=Object(r["j"])("i",{class:"fas fa-exclamation-circle"},null,-1),_e=Object(r["k"])(" This website does not store your dataset(s), please reupload the following: "),Ge={class:"font-mono text-sm"},De={key:0,class:"flex flex-grow"},Fe={class:"flex flex-col flex-grow"},qe=Object(r["j"])("div",{class:"text-sm text-gray-500"},"Setup Code (initialize libraries and create utility variables)",-1),Ke=["placeholder"],Ue={class:"grid grid-cols-12"},He={class:"grid grid-cols-12"},Ve=["disabled"],Be={key:0},ze=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),Je=Object(r["k"])(" Processing "),Ye=[ze,Je],We={key:1},Qe={key:1,class:"mx-auto mt-5 rounded shadow-lg md:w-11/12 xl:max-w-7xl"},Xe=Object(r["j"])("div",{class:"flex flex-col bg-gray-100 rounded"},[Object(r["j"])("div",{class:"mx-auto mt-4 mb-5"},[Object(r["j"])("span",null,[Object(r["j"])("i",{class:"text-gray-300 fas fa-10x fa-circle-notch animate-spin"})])])],-1),Ze=[Xe];function et(e,t,n,s,a,o){var i=Object(r["H"])("DisclosureButton"),c=Object(r["H"])("DisclosurePanel"),l=Object(r["H"])("Disclosure"),u=Object(r["H"])("router-link"),d=Object(r["H"])("TestCollection");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",D,[Object(r["l"])(l,null,{default:Object(r["S"])((function(e){var t=e.open;return[Object(r["l"])(i,{class:Object(r["u"])(["w-full px-4 py-2 text-left hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-green-700",t?"border-b-2 border-gray-400 rounded-t":"  rounded "])},{default:Object(r["S"])((function(){return[Object(r["j"])("div",F,[q,Object(r["j"])("i",{class:Object(r["u"])(["fas",t?"fa-chevron-up":"fa-chevron-down"])},null,2)])]})),_:2},1032,["class"]),Object(r["l"])(c,{class:"px-4"},{default:Object(r["S"])((function(){return[K,U,H,V,B,z,J,Y,W]})),_:1})]})),_:1})]),e.isPageLoaded?(Object(r["C"])(),Object(r["i"])("div",Q,[Object(r["j"])("div",X,[e.isLoggedIn?(Object(r["C"])(),Object(r["i"])("div",Z,[Object(r["j"])("div",ee,[Object(r["l"])(u,{to:{name:"List"},class:"px-2 py-1 font-bold green-button"},{default:Object(r["S"])((function(){return[te,ne]})),_:1}),Object(r["j"])("div",null,[e.hasChanged?(Object(r["C"])(),Object(r["i"])("span",ie,ue)):(Object(r["C"])(),Object(r["i"])("span",re,oe))])]),Object(r["j"])("div",null,[Object(r["T"])(Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.bundleName.$error&&"error"]),type:"text",placeholder:"Bundle Name","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.bundleName=e})},null,2),[[r["O"],o.bundleName]]),Object(r["T"])(Object(r["j"])("div",{class:"absolute text-xs text-red-500"},Object(r["K"])(o.getErrorText(s.v$.bundleName.$errors,{name:"Bundle Name"})),513),[[r["P"],s.v$.bundleName.$error]])])])):(Object(r["C"])(),Object(r["i"])("div",de,[Object(r["j"])("div",be,[me,Object(r["l"])(u,{to:{name:"Login"},class:"p-1 underline transition duration-100 ease-linear rounded hover:shadow hover:no-underline focus:outline-none focus:bg-white hover:bg-white"},{default:Object(r["S"])((function(){return[ge]})),_:1}),fe,Object(r["l"])(u,{to:{name:"Register"},class:"p-1 underline transition duration-100 ease-linear rounded hover:shadow hover:no-underline focus:outline-none focus:bg-white hover:bg-white"},{default:Object(r["S"])((function(){return[je]})),_:1})])])),Object(r["j"])("div",pe,[Object(r["j"])("div",Oe,[Object(r["j"])("div",he,[Object(r["T"])(Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.assignmentName.$error&&"error"]),type:"text",placeholder:"Assignment Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.assignmentName=e})},null,2),[[r["O"],o.assignmentName]]),Object(r["T"])(Object(r["j"])("div",{class:"absolute text-xs text-red-500"},Object(r["K"])(o.getErrorText(s.v$.assignmentName.$errors,{name:"Assignment Name"})),513),[[r["P"],s.v$.assignmentName.$error]])]),Object(r["j"])("div",ve,[Object(r["j"])("div",xe,[Object(r["T"])(Object(r["j"])("input",{class:"checkbox",id:"datasetCheckbox",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.isDatasetsSelected=e})},null,512),[[r["N"],o.isDatasetsSelected]]),we]),Object(r["j"])("div",ye,[Object(r["T"])(Object(r["j"])("input",{class:"checkbox",id:"packageCheckbox",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.isPackagesSelected=e})},null,512),[[r["N"],o.isPackagesSelected]]),ke]),Object(r["j"])("div",$e,[Object(r["T"])(Object(r["j"])("input",{class:"checkbox",id:"setupCheckbox",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.isSetupSelected=e})},null,512),[[r["N"],o.isSetupSelected]]),Ce])])]),Object(r["j"])("div",Re,[o.isPackagesSelected?(Object(r["C"])(),Object(r["i"])("div",Se,[Object(r["T"])(Object(r["j"])("input",{class:"textbox",type:"text",placeholder:"Packages","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.packageNames=e})},null,512),[[r["O"],o.packageNames]])])):Object(r["h"])("",!0),o.isDatasetsSelected?(Object(r["C"])(),Object(r["i"])("div",Ee,[Object(r["j"])("label",Ae,[Pe,e.fileNames.length&&e.isDatasetsSynced?(Object(r["C"])(),Object(r["i"])("span",Le,Object(r["K"])(e.fileNames.join(", ")),1)):(Object(r["C"])(),Object(r["i"])("span",Te,"Dataset(s)")),Object(r["j"])("input",{type:"file",class:"hidden",multiple:"",onChange:t[6]||(t[6]=function(){return o.onFileChange&&o.onFileChange.apply(o,arguments)})},null,32)]),e.isDatasetsSynced?Object(r["h"])("",!0):(Object(r["C"])(),Object(r["i"])("div",Ie,[Object(r["j"])("p",Me,[Ne,_e,Object(r["j"])("span",Ge,Object(r["K"])(e.fileNames.join(", ")),1)])]))])):Object(r["h"])("",!0)]),o.isSetupSelected?(Object(r["C"])(),Object(r["i"])("div",De,[Object(r["j"])("div",Fe,[qe,Object(r["T"])(Object(r["j"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.setupCode=e}),class:"w-full font-mono text-sm rounded focus:border-green-800 focus:ring-green-800",placeholder:e.setupPlaceholderText,rows:"10"},null,8,Ke),[[r["O"],o.setupCode]])])])):Object(r["h"])("",!0),Object(r["j"])("div",Ue,[Object(r["j"])("button",{class:"w-full col-span-12 p-2 font-bold blue-button",onClick:t[8]||(t[8]=function(){return e.incrementNumberOfTests&&e.incrementNumberOfTests.apply(e,arguments)})},"Add Test")]),(Object(r["C"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(o.testsCollection,(function(t,n){return Object(r["C"])(),Object(r["g"])(d,{key:n,index:n,visibility:t.visibility,label:t.label,code:t.code,onUpdateVisibility:function(e,t){return o.updateTestsCollection("visibility",t,e)},onUpdateLabel:function(e,t){return o.updateTestsCollection("label",t,e)},onUpdateCode:function(e,t){return o.updateTestsCollection("code",t,e)},onRemoveTest:function(t){return e.removeTest(t)}},null,8,["index","visibility","label","code","onUpdateVisibility","onUpdateLabel","onUpdateCode","onRemoveTest"])})),128)),Object(r["j"])("div",He,[Object(r["j"])("button",{class:Object(r["u"])(["w-full col-span-12 p-2 font-bold text-white transition duration-100 rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[9]||(t[9]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",Be,Ye)):(Object(r["C"])(),Object(r["i"])("div",We,"Download Bundle"))],10,Ve)])])])])):(Object(r["C"])(),Object(r["i"])("div",Qe,Ze))])}var tt=n("1da1"),nt=n("ade3"),rt=(n("96cf"),n("caad"),n("2532"),n("d81d"),n("4de4"),n("d3b7"),n("fe72")),st={class:"flex items-center gap-2 mb-4"},at=["disabled"],ot=Object(r["j"])("i",{class:"fas fa-trash-alt"},null,-1),it=[ot],ct={class:"grid items-center w-full grid-cols-12 gap-2"},lt={class:"col-span-3"},ut={class:"relative"},dt={class:"block mr-5 truncate"},bt=Object(r["j"])("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[Object(r["j"])("i",{class:"text-gray-500 fas fa-chevron-down"})],-1),mt={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600"},gt=Object(r["j"])("i",{class:"fas fa-check"},null,-1),ft=[gt],jt={class:"col-span-3"},pt={class:"col-span-6"},Ot={class:"flex"};function ht(e,t,n,s,a,o){var i=Object(r["H"])("ListboxButton"),c=Object(r["H"])("ListboxOption"),l=Object(r["H"])("ListboxOptions"),u=Object(r["H"])("Listbox");return Object(r["C"])(),Object(r["i"])("div",st,[Object(r["j"])("button",{class:Object(r["u"])(["w-8 h-8 text-white rounded shadow focus:outline-none",e.numberOfTests<=1?"bg-gray-600 cursor-default":"red-button"]),disabled:e.numberOfTests<=1,onClick:t[0]||(t[0]=function(t){return e.$emit("removeTest",n.index)})},it,10,at),Object(r["j"])("div",ct,[Object(r["j"])("div",lt,[Object(r["l"])(u,{modelValue:o.visibilityModel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.visibilityModel=e})},{default:Object(r["S"])((function(){return[Object(r["j"])("div",ut,[Object(r["l"])(i,{class:Object(r["u"])(["relative w-full px-4 py-2 text-left text-gray-500 transition duration-200 border rounded cursor-pointer focus:outline-none",s.v$.visibilityModel.$error?"border-red-500 focus:border-red-500  focus:ring-1 focus:ring-red-500 ":"border-gray-500 focus:border-green-800 focus:ring-1 focus:ring-green-800"])},{default:Object(r["S"])((function(){return[Object(r["j"])("span",dt,Object(r["K"])(o.getVisibilityText(n.visibility)),1),bt]})),_:1},8,["class"]),Object(r["l"])(r["c"],{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Object(r["S"])((function(){return[Object(r["l"])(l,{class:"absolute z-50 w-40 py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-2 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:Object(r["S"])((function(){return[(Object(r["C"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(a.visiblilitySelector,(function(e){return Object(r["C"])(),Object(r["g"])(c,{key:e.value,value:e.value,as:"template"},{default:Object(r["S"])((function(t){var n=t.active,s=t.selected;return[Object(r["j"])("li",{class:Object(r["u"])([n?"text-green-900 bg-green-100":"text-gray-900","cursor-pointer select-none relative py-2 pl-10 pr-4"])},[Object(r["j"])("span",{class:Object(r["u"])([s?"font-medium":"font-normal","block truncate"])},Object(r["K"])(e.text),3),s?(Object(r["C"])(),Object(r["i"])("span",mt,ft)):Object(r["h"])("",!0)],2)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1})])]})),_:1},8,["modelValue"]),Object(r["T"])(Object(r["j"])("div",{class:"absolute text-xs text-red-500"},Object(r["K"])(o.getErrorText(s.v$.visibilityModel.$errors,{name:"Visibility"})),513),[[r["P"],s.v$.visibilityModel.$error]])]),Object(r["j"])("div",jt,[Object(r["T"])(Object(r["j"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.labelModel=e}),class:Object(r["u"])(["textbox",s.v$.labelModel.$error&&"error"]),placeholder:"Label"},null,2),[[r["O"],o.labelModel]]),Object(r["T"])(Object(r["j"])("div",{class:"absolute text-xs text-red-500"},Object(r["K"])(o.getErrorText(s.v$.labelModel.$errors,{name:"Label"})),513),[[r["P"],s.v$.labelModel.$error]])]),Object(r["j"])("div",pt,[Object(r["j"])("div",Ot,[Object(r["T"])(Object(r["j"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.codeModel=e}),class:Object(r["u"])(["w-full font-mono transition duration-200 rounded",s.v$.codeModel.$error?"text-red-500 focus:border-red-500 border-red-500 focus:ring-red-500":"focus:border-green-800 focus:ring-green-800"]),placeholder:"Code",rows:"1"},null,2),[[r["O"],o.codeModel]])]),Object(r["T"])(Object(r["j"])("div",{class:"absolute text-xs text-red-500"},Object(r["K"])(o.getErrorText(s.v$.codeModel.$errors,{name:"Code"})),513),[[r["P"],s.v$.codeModel.$error]])])])])}n("a9e3");var vt=n("25a0"),xt=n("e3e1"),wt=(n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b0c0"),n("99af"),function(e){return localStorage.setItem("token",e)}),yt=function(){return localStorage.getItem("token")},kt=function(){return localStorage.removeItem("token")},$t=function(e){var t=new Blob([e.data],{type:"application/zip"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="data",n.click(),URL.revokeObjectURL(n.href)},Ct=function(e,t){if(e.length)switch(e[0].$validator){case"required":return"".concat(t.name," is required.");case"email":return"Not a valid email address.";case"minLength":return"".concat(t.name," must be at least ").concat(t.length," characters long.");case"sameAsPassword":return"Passwords must match";default:return e[0].$message}return"Placeholder"},Rt=n("7290"),St={setup:function(){return{v$:Object(vt["a"])()}},components:{Listbox:Rt["a"],ListboxButton:Rt["b"],ListboxOptions:Rt["d"],ListboxOption:Rt["c"]},props:{index:Number,visibility:String,label:String,code:String},emits:["removeTest","updateVisibility","updateLabel","updateCode"],data:function(){return{visiblilitySelector:[{text:"Select Visibility",value:""},{text:"Visible",value:"visible"},{text:"After Due Date",value:"after_due_date"},{text:"After Published",value:"after_published"},{text:"Hidden",value:"hidden"}]}},computed:Object(j["a"])(Object(j["a"])({},Object(p["c"])("RGradingGradescope",["numberOfTests"])),{},{visibilityModel:{get:function(){return this.visibility},set:function(e){this.v$.visibilityModel.$touch(),this.$emit("updateVisibility",e,this.index)}},labelModel:{get:function(){return this.label},set:function(e){this.v$.labelModel.$touch(),this.$emit("updateLabel",e,this.index)}},codeModel:{get:function(){return this.code},set:function(e){this.v$.codeModel.$touch(),this.$emit("updateCode",e,this.index)}}}),methods:{getVisibilityText:function(e){return this.visiblilitySelector.filter((function(t){return t.value===e}))[0].text},getErrorText:function(e,t){return Ct(e,t)}},validations:function(){return{visibilityModel:{required:xt["d"]},labelModel:{required:xt["d"]},codeModel:{required:xt["d"]}}}};const Et=v()(St,[["render",ht]]);var At=Et,Pt=n("b85c"),Tt=(n("e9c4"),n("ac1f"),n("1276"),n("bc3a")),Lt=n.n(Tt),It="http://localhost:5001",Mt="/api/v1",Nt=It,_t=Mt;function Gt(e){return{headers:{Authorization:"Bearer ".concat(e)}}}var Dt={logInGetToken:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("username",e),r.append("password",t),n.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/token"),r));case 4:case"end":return n.stop()}}),n)})))()},registerAccount:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("email",e),r.append("password",t),r.append("full_name","full_name"),r.append("username","username"),n.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/register"),r));case 6:case"end":return n.stop()}}),n)})))()},getAccount:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Lt.a.get("".concat(Nt).concat(_t,"/auth/account"),Gt(e)));case 1:case"end":return t.stop()}}),t)})))()},deleteAccount:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/delete"),null,Gt(e)));case 1:case"end":return t.stop()}}),t)})))()},requestPasswordReset:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e},t.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/request_password_reset"),n));case 2:case"end":return t.stop()}}),t)})))()},resetPasswordToken:function(e,t,n){return Object(tt["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=new FormData,s.append("email",e),s.append("password",t),s.append("pw_reset_token",n),r.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/reset_password_from_token"),s));case 5:case"end":return r.stop()}}),r)})))()},resetPasswordLoggedIn:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("password",t),n.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/auth/reset_password_logged_in"),r,Gt(e)));case 3:case"end":return n.stop()}}),n)})))()},getAssignments:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Lt.a.get("".concat(Nt).concat(_t,"/assignments"),Gt(e)));case 1:case"end":return t.stop()}}),t)})))()},getAssignment:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",Lt.a.get("".concat(Nt).concat(_t,"/assignment/").concat(t),Gt(e)));case 1:case"end":return n.stop()}}),n)})))()},saveAssignment:function(e,t,n,r,s,a,o,i){return Object(tt["a"])(regeneratorRuntime.mark((function c(){var l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return l={},t&&(l["assignment_id"]=t),n&&(l["bundle_name"]=n),r&&(l["assignment_name"]=r),s.length&&(l["tests_collection"]=s),a&&(l["package_names"]=a),o.length&&(l["datasets"]=o),i&&(l["setup_code"]=i),c.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/save_assignment"),l,Gt(e)));case 9:case"end":return c.stop()}}),c)})))()},createAssignment:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={tests_collection:[{label:"",visibility:"",code:""}],datasets:[]},t.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/save_assignment"),n,Gt(e)));case 2:case"end":return t.stop()}}),t)})))()},deleteAssignment:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={assignment_id:t},n.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/delete_assignment"),r,Gt(e)));case 2:case"end":return n.stop()}}),n)})))()},downloadBundle:function(e,t,n,r,s){return Object(tt["a"])(regeneratorRuntime.mark((function a(){var o,i,c,l,u,d,b;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=new FormData,i=r.map((function(e){return e.label})),c=r.map((function(e){return e.visibility})),l=r.map((function(e){return e.code})),o.append("assignment_name",e),o.append("setup_code",s),o.append("labels",JSON.stringify(i)),o.append("visibilities",JSON.stringify(c)),o.append("codes",JSON.stringify(l)),t){u=Object(Pt["a"])(t);try{for(u.s();!(d=u.n()).done;)b=d.value,o.append("datasets",b,b.name)}catch(m){u.e(m)}finally{u.f()}}return n&&o.append("package_names",JSON.stringify(n.split(","))),a.abrupt("return",Lt.a.post("".concat(Nt).concat(_t,"/uploadfile"),o,{responseType:"blob"}));case 12:case"end":return a.stop()}}),a)})))()}},Ft=function(e){return".Rmd"===e.substring(e.length-4)||".r"===e.substring(e.length-2).toLowerCase()},qt={name:"EditView",setup:function(){return{v$:Object(vt["a"])()}},created:function(){var e=this;if(this.isLoggedIn)if(this.listOfAssignments.map((function(e){return e.id})).includes(this.assignmentToEditId)){this.getAssignment().then((function(){return e.isPageLoaded=!0}));var t=function(){e.isLoggedIn&&e.clickSaveButton()};this.timer=setInterval(t,5e3)}else this.$router.push({name:"List"});else this.isPageLoaded=!0},beforeUnmount:function(){clearInterval(this.timer)},components:{Disclosure:rt["a"],DisclosureButton:rt["b"],DisclosurePanel:rt["c"],TestCollection:At},data:function(){return{setupPlaceholderText:"Ex:\nlibrary(stringr)\n\nq1.ans <- c(4,5,6)",codePlaceholderText:"Ex:length(lm.mod$coefficients) == 4",loading:!1,hasChanged:!1,isPageLoaded:!0}},computed:Object(j["a"])(Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(p["e"])("RGradingGradescope",["datasets","fileNames","listOfAssignments","assignmentToEditId","lastModified"])),Object(p["e"])("AuthModule",["isLoggedIn","email"])),Object(p["c"])("RGradingGradescope",["numberOfTests","isDatasetsSynced"])),{},{isDatasetsSelected:{get:function(){return this.$store.state["RGradingGradescope"].isDatasetsSelected},set:function(e){return this.$store.commit("RGradingGradescope/setIsDatasetsSelected",e)}},isPackagesSelected:{get:function(){return this.$store.state["RGradingGradescope"].isPackagesSelected},set:function(e){return this.$store.commit("RGradingGradescope/setIsPackagesSelected",e)}},isSetupSelected:{get:function(){return this.$store.state["RGradingGradescope"].isSetupSelected},set:function(e){return this.$store.commit("RGradingGradescope/setIsSetupSelected",e)}},setupCode:{get:function(){return this.$store.state["RGradingGradescope"].setupCode},set:function(e){return this.hasChanged=!0,this.$store.commit("RGradingGradescope/setSetupCode",e)}},bundleName:{get:function(){return this.$store.state["RGradingGradescope"].bundleName},set:function(e){this.hasChanged=!0,this.$store.commit("RGradingGradescope/setBundleName",e),this.v$.bundleName.$touch()}},assignmentName:{get:function(){return this.$store.state["RGradingGradescope"].assignmentName},set:function(e){this.hasChanged=!0,this.$store.commit("RGradingGradescope/setAssignmentName",e),this.v$.assignmentName.$touch()}},packageNames:{get:function(){return this.$store.state["RGradingGradescope"].packageNames},set:function(e){this.hasChanged=!0,this.$store.commit("RGradingGradescope/setPackageNames",e)}},testsCollection:{get:function(){return this.$store.state["RGradingGradescope"].testsCollection}}}),methods:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(p["b"])("RGradingGradescope",["incrementNumberOfTests","removeTest","saveAssignment","getAssignment","clearAssignmentStore"])),Object(p["d"])("RGradingGradescope",["setDatasets","setTestsCollection"])),{},{getVisibilityText:function(e){return this.visiblilitySelector.filter((function(t){return t.value===e}))[0].text},onFileChange:function(e){this.hasChanged=!0;var t=e.target.files||e.dataTransfer.files;t.length&&this.setDatasets(t)},getErrorText:function(e,t){return Ct(e,t)},clickSaveButton:function(){var e=this;this.hasChanged&&this.saveAssignment().catch((function(e){return console.log({error:e})})).finally((function(){e.hasChanged=!1}))},updateTestsCollection:function(e,t,n){this.hasChanged=!0;var r=this.testsCollection.map((function(r,s){return s===t?Object(j["a"])(Object(j["a"])({},r),{},Object(nt["a"])({},e,n)):Object(j["a"])({},r)}));this.setTestsCollection(r)},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.v$.$reset(),t.next=3,e.v$.$validate();case 3:n=t.sent,n&&(e.loading=!0,Dt.downloadBundle(e.assignmentName,e.datasets,e.packageNames,e.testsCollection,e.setupCode).then((function(e){$t(e)})).catch((function(e){return console.log({error:e})})).finally((function(){return e.loading=!1})));case 5:case"end":return t.stop()}}),t)})))()}}),validations:function(){return{bundleName:{required:xt["d"]},assignmentName:{required:xt["d"],properFileType:xt["b"].withMessage("Must have valid file ending (.R, .r, or .Rmd)",Ft)}}}};const Kt=v()(qt,[["render",et]]);var Ut=Kt,Ht={class:"p-6 mx-auto mt-5 border-2 shadow-lg md:w-9/12 xl:max-w-4xl"},Vt={class:"flex flex-col gap-2"},Bt=["disabled"],zt={key:0},Jt=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),Yt=Object(r["k"])(" Creating Assignment "),Wt=[Jt,Yt],Qt={key:1},Xt={key:0,class:"flex items-center"},Zt=Object(r["j"])("label",{class:"ml-1 mr-2 cursor-pointer",for:"deleteModeCheckbox"}," Delete Mode ",-1),en=["onClick"],tn=Object(r["j"])("i",{class:"fas fa-external-link-alt"},null,-1),nn=[tn],rn=["onClick","disabled"],sn=Object(r["j"])("i",{class:"fas fa-trash-alt"},null,-1),an=[sn],on={class:"flex flex-grow gap-2"},cn=Object(r["j"])("div",{class:"flex-grow"},null,-1);function ln(e,t,n,s,a,o){return Object(r["C"])(),Object(r["i"])("div",Ht,[Object(r["j"])("div",Vt,[Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white transition duration-100 rounded shadow focus:outline-none",e.isCreatingAssignment?"bg-gray-700 cursor-default":"green-button"]),disabled:e.isCreatingAssignment,onClick:t[0]||(t[0]=function(){return o.clickCreateAssignment&&o.clickCreateAssignment.apply(o,arguments)})},[e.isCreatingAssignment?(Object(r["C"])(),Object(r["i"])("div",zt,Wt)):(Object(r["C"])(),Object(r["i"])("div",Qt,"Create Assignment"))],10,Bt),e.listOfAssignments.length?(Object(r["C"])(),Object(r["i"])("div",Xt,[Object(r["T"])(Object(r["j"])("input",{class:"checkbox",id:"deleteModeCheckbox",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.isDeleteModeOn=t})},null,512),[[r["N"],e.isDeleteModeOn]]),Zt])):Object(r["h"])("",!0),(Object(r["C"])(!0),Object(r["i"])(r["a"],null,Object(r["G"])(e.listOfAssignments,(function(t){return Object(r["C"])(),Object(r["i"])("div",{key:t.id,class:Object(r["u"])(t.id===e.assignmentToEditId?"border-l-2 border-green-600":"")},[Object(r["j"])("div",{class:Object(r["u"])(["flex items-center flex-grow gap-2 p-2",t.id===e.assignmentToEditId?"border-t-2 border-b-2 border-r-2 rounded-r":"border-2 rounded"])},[Object(r["j"])("button",{class:"w-8 h-8 blue-button",onClick:function(e){return o.openTest(t.id)}},nn,8,en),Object(r["j"])("button",{class:Object(r["u"])(["w-8 h-8 text-white transition duration-100 ease-linear rounded shadow focus:outline-none",e.isDeleteModeOn?"red-button":"bg-gray-600 cursor-default"]),onClick:function(e){return o.removeTest(t.id)},disabled:!e.isDeleteModeOn},an,10,rn),Object(r["j"])("div",on,[Object(r["j"])("div",null,Object(r["K"])(o.getBundleNameText(t.bundleName)),1),cn,Object(r["j"])("div",null,"Last modified "+Object(r["K"])(o.format(t.lastModified)),1)])],2)],2)})),128))])])}var un=n("1ccd"),dn={name:"ListView",data:function(){return{isDeleteModeOn:!1,isCreatingAssignment:!1}},computed:Object(j["a"])(Object(j["a"])({},Object(p["e"])("RGradingGradescope",["assignmentToEditId","listOfAssignments"])),Object(p["e"])("AuthModule",["isLoggedIn"])),methods:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(p["b"])("RGradingGradescope",["getAssignments","createAssignment","deleteAssignment"])),Object(p["d"])("RGradingGradescope",["setAssignmentToEditId"])),{},{getBundleNameText:function(e){return e||"Untitled"},removeTest:function(e){this.deleteAssignment(e)},openTest:function(e){this.setAssignmentToEditId(e),this.$router.push({name:"Edit"})},format:function(e){return Object(un["a"])(e-1e3,{addSuffix:!0})},clickCreateAssignment:function(){var e=this;this.isCreatingAssignment=!0,this.createAssignment().catch((function(e){return console.log({error:e})})).finally((function(){e.isCreatingAssignment=!1}))}}),created:function(){var e=this,t=function(){e.isLoggedIn?e.getAssignments():e.$router.push({name:"Login"})};t(),this.timer=setInterval(t,5e3)},beforeUnmount:function(){clearInterval(this.timer)}};const bn=v()(dn,[["render",ln]]);var mn=bn,gn={class:"mx-auto mt-5 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},fn=Object(r["j"])("div",{class:"p-6 mb-4 text-3xl text-white bg-green-700 border-b-2 rounded shadow"},"Login",-1),jn={class:"flex flex-col gap-2 p-4"},pn=["value"],On=["value"],hn=["disabled"],vn={key:0},xn=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),wn=Object(r["k"])(" Processing "),yn=[xn,wn],kn={key:1},$n=Object(r["k"])(" Forgot your Password? "),Cn=Object(r["k"])(" Create an Account ");function Rn(e,t,n,s,a,o){var i=Object(r["H"])("router-link");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",gn,[fn,Object(r["j"])("div",jn,[Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.inputEmail.$error&&"error"]),type:"text",placeholder:"Email",value:e.inputEmail,onInput:t[0]||(t[0]=function(){return o.changeEmail&&o.changeEmail.apply(o,arguments)}),onKeyup:t[1]||(t[1]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,pn),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.inputEmail.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.inputEmail.$errors,{name:"Email"})),3),Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.password.$error&&"error"]),type:"password",placeholder:"Password",value:e.password,onInput:t[2]||(t[2]=function(){return o.changePassword&&o.changePassword.apply(o,arguments)}),onKeyup:t[3]||(t[3]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,On),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.password.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.password.$errors,{name:"Password",length:6})),3),Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[4]||(t[4]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",vn,yn)):(Object(r["C"])(),Object(r["i"])("div",kn,"Login"))],10,hn),Object(r["j"])("div",null,[Object(r["l"])(i,{to:{name:"RequestPasswordReset"},class:"text-green-800 hover:underline focus:outline-none focus:underline"},{default:Object(r["S"])((function(){return[$n]})),_:1})]),Object(r["j"])("div",null,[Object(r["l"])(i,{to:{name:"Register"},class:"text-green-800 hover:underline focus:outline-none focus:underline"},{default:Object(r["S"])((function(){return[Cn]})),_:1})])])])])}var Sn={setup:function(){return{v$:Object(vt["a"])()}},name:"LoginView",data:function(){return{inputEmail:"",password:"",debugData:[],vuelidateExternalResults:{inputEmail:[],password:[]},loading:!1}},computed:Object(j["a"])({},Object(p["e"])("AuthModule",["isLoggedIn","isErrorLoggingIn","errorLoggingIn"])),methods:Object(j["a"])(Object(j["a"])({},Object(p["b"])("AuthModule",["actionGetToken"])),{},{getErrorText:function(e,t){return Ct(e,t)},changeEmail:function(e){this.inputEmail=e.target.value,this.v$.inputEmail.$touch(),this.isErrorLoggingIn&&this.v$.$clearExternalResults()},changePassword:function(e){this.password=e.target.value,this.v$.password.$touch(),this.isErrorLoggingIn&&this.v$.$clearExternalResults()},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.v$.$validate();case 2:n=t.sent,n&&!e.loading&&(e.loading=!0,e.actionGetToken({email:e.inputEmail,password:e.password}).then((function(){if(e.isErrorLoggingIn&&401==e.errorLoggingIn.error.response.status){var t={inputEmail:[" "],password:["Incorrect email or password."]};Object.assign(e.vuelidateExternalResults,t)}else e.isErrorLoggingIn||e.$router.push({name:"Account"})})).catch((function(){var t={inputEmail:[" "],password:["An error occured, please try again later."]};Object.assign(e.vuelidateExternalResults,t)})).finally((function(){return e.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()}}),validations:function(){return{inputEmail:{required:xt["d"],email:xt["a"]},password:{required:xt["d"],minLength:Object(xt["c"])(6)}}}};const En=v()(Sn,[["render",Rn]]);var An=En,Pn={class:"mx-auto mt-5 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},Tn=Object(r["j"])("div",{class:"p-6 mb-4 text-3xl text-white bg-green-700 border-b-2 rounded shadow"},"Create an Account",-1),Ln={class:"flex flex-col gap-2 p-4"},In=["value"],Mn=["value"],Nn=["value"],_n=["disabled"],Gn={key:0},Dn=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),Fn=Object(r["k"])(" Processing "),qn=[Dn,Fn],Kn={key:1},Un=Object(r["k"])(" Have an Account? ");function Hn(e,t,n,s,a,o){var i=Object(r["H"])("router-link");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",Pn,[Tn,Object(r["j"])("div",Ln,[Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.inputEmail.$error&&"error"]),type:"text",placeholder:"Email",value:e.inputEmail,onInput:t[0]||(t[0]=function(){return o.changeEmail&&o.changeEmail.apply(o,arguments)}),onKeyup:t[1]||(t[1]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,In),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.inputEmail.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.inputEmail.$errors,{name:"Email"})),3),Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.password.$error&&"error"]),type:"password",placeholder:"Password",value:e.password,onInput:t[2]||(t[2]=function(){return o.changePassword&&o.changePassword.apply(o,arguments)}),onKeyup:t[3]||(t[3]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,Mn),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.password.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.password.$errors,{name:"Password",length:6})),3),Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.confirmPassword.$error&&"error"]),type:"password",placeholder:"Confirm Password",value:e.confirmPassword,onInput:t[4]||(t[4]=function(){return o.changeConfirmPassword&&o.changeConfirmPassword.apply(o,arguments)}),onKeyup:t[5]||(t[5]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,Nn),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.confirmPassword.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.confirmPassword.$errors,{name:"Confirm Password"})),3),Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white transition duration-100 rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[6]||(t[6]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",Gn,qn)):(Object(r["C"])(),Object(r["i"])("div",Kn,"Register"))],10,_n),Object(r["j"])("div",null,[Object(r["l"])(i,{to:{name:"Login"},class:"text-green-800 hover:underline focus:outline-none focus:underline"},{default:Object(r["S"])((function(){return[Un]})),_:1})])])])])}var Vn={setup:function(){return{v$:Object(vt["a"])()}},name:"RegisterView",components:{},data:function(){return{inputEmail:"",password:"",confirmPassword:"",debugData:[],vuelidateExternalResults:{inputEmail:[],password:[],confirmPassword:[]},loading:!1}},computed:Object(j["a"])({},Object(p["e"])("AuthModule",["isLoggedIn","isErrorRegistering","errorRegistering"])),methods:Object(j["a"])(Object(j["a"])({},Object(p["b"])("AuthModule",["actionRegister"])),{},{getErrorText:function(e,t){return Ct(e,t)},changeEmail:function(e){this.inputEmail=e.target.value,this.v$.inputEmail.$touch(),this.isErrorRegistering&&this.v$.$clearExternalResults()},changePassword:function(e){this.password=e.target.value,this.v$.password.$touch(),this.isErrorRegistering&&this.v$.$clearExternalResults()},changeConfirmPassword:function(e){this.confirmPassword=e.target.value,this.v$.confirmPassword.$touch(),this.isErrorRegistering&&this.v$.$clearExternalResults()},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.v$.$validate();case 2:n=t.sent,n&&!e.loading&&(e.loading=!0,e.actionRegister({email:e.inputEmail,password:e.password}).then((function(){if(e.isErrorRegistering&&400==e.errorRegistering.error.response.status){var t={inputEmail:["Email already exists."]};Object.assign(e.vuelidateExternalResults,t)}e.isErrorRegistering||e.$router.push({path:"login"})})).catch((function(){var t={inputEmail:["Email already exists."]};Object.assign(e.vuelidateExternalResults,t)})).finally((function(){return e.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()}}),validations:function(){return{inputEmail:{required:xt["d"],email:xt["a"]},password:{required:xt["d"],minLength:Object(xt["c"])(6)},confirmPassword:{required:xt["d"],sameAsPassword:Object(xt["e"])(this.password)}}}};const Bn=v()(Vn,[["render",Hn]]);var zn=Bn,Jn={class:"mx-auto mt-5 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},Yn=Object(r["j"])("div",{class:"p-6 mb-4 text-3xl text-white bg-green-700 border-b-2 rounded shadow"},"Request Password Reset",-1),Wn={class:"flex flex-col gap-2 p-4"},Qn=["value"],Xn=["disabled"],Zn={key:0},er=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),tr=Object(r["k"])(" Processing "),nr=[er,tr],rr={key:1},sr=Object(r["k"])(" Have an Account? "),ar=Object(r["k"])(" Create an Account ");function or(e,t,n,s,a,o){var i=Object(r["H"])("router-link");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",Jn,[Yn,Object(r["j"])("div",Wn,[Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.email.$error&&"error"]),type:"text",placeholder:"Email",value:e.email,onInput:t[0]||(t[0]=function(){return o.changeEmail&&o.changeEmail.apply(o,arguments)}),onKeyup:t[1]||(t[1]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,Qn),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.email.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.email.$errors,{name:"Email"})),3),Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[2]||(t[2]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",Zn,nr)):(Object(r["C"])(),Object(r["i"])("div",rr,"Submit"))],10,Xn),Object(r["j"])("div",null,[Object(r["j"])("p",null,Object(r["K"])(e.confirmationMessage),1)]),Object(r["j"])("div",null,[Object(r["l"])(i,{to:{name:"Login"},class:"text-green-800 hover:underline focus:outline-none focus:underline"},{default:Object(r["S"])((function(){return[sr]})),_:1})]),Object(r["j"])("div",null,[Object(r["l"])(i,{to:{name:"Register"},class:"text-green-800 hover:underline focus:outline-none focus:underline"},{default:Object(r["S"])((function(){return[ar]})),_:1})])])])])}var ir={setup:function(){return{v$:Object(vt["a"])()}},name:"RequestPasswordReset",data:function(){return{email:"",debugData:[],vuelidateExternalResults:{email:[]},loading:!1,confirmationMessage:""}},methods:{getErrorText:function(e,t){return Ct(e,t)},changeEmail:function(e){this.email=e.target.value,this.v$.email.$touch(),this.v$.$clearExternalResults()},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.v$.$validate();case 2:n=t.sent,n&&!e.loading&&(e.loading=!0,Dt.requestPasswordReset(e.email).then((function(){e.confirmationMessage="Check your email for instructions on how to reset your password."})).catch((function(t){if(400==t.response.status){var n={email:["No account exists with that email."]};Object.assign(e.vuelidateExternalResults,n)}else{var r={email:["An error occured, please try again later."]};Object.assign(e.vuelidateExternalResults,r)}e.confirmationMessage=""})).finally((function(){e.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()}},validations:function(){return{email:{required:xt["d"],email:xt["a"]}}}};const cr=v()(ir,[["render",or]]);var lr=cr,ur={class:"mx-auto mt-5 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},dr=Object(r["j"])("div",{class:"p-6 mb-4 text-3xl text-white bg-green-700 border-b-2 rounded shadow"},"Reset Password",-1),br={class:"flex flex-col gap-2 p-4"},mr=["value"],gr=["value"],fr=["disabled"],jr={key:0},pr=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),Or=Object(r["k"])(" Processing "),hr=[pr,Or],vr={key:1};function xr(e,t,n,s,a,o){return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",ur,[dr,Object(r["j"])("div",br,[Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.password.$error&&"error"]),type:"password",placeholder:"Password",value:e.password,onInput:t[0]||(t[0]=function(){return o.changePassword&&o.changePassword.apply(o,arguments)}),onKeyup:t[1]||(t[1]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,mr),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.password.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.password.$errors,{name:"Password",length:6})),3),Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.confirmPassword.$error&&"error"]),type:"password",placeholder:"Confirm Password",value:e.confirmPassword,onInput:t[2]||(t[2]=function(){return o.changeConfirmPassword&&o.changeConfirmPassword.apply(o,arguments)}),onKeyup:t[3]||(t[3]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,gr),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.confirmPassword.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.confirmPassword.$errors,{name:"Confirm Password"})),3),Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[4]||(t[4]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",jr,hr)):(Object(r["C"])(),Object(r["i"])("div",vr,"Reset Password"))],10,fr),Object(r["j"])("div",null,[Object(r["j"])("p",null,Object(r["K"])(e.confirmationMessage),1)])])])])}var wr={setup:function(){return{v$:Object(vt["a"])()}},name:"PasswordReset",components:{},data:function(){return{password:"",confirmPassword:"",confirmationMessage:"",loading:!1,vuelidateExternalResults:{password:[]}}},methods:{getErrorText:function(e,t){return Ct(e,t)},changePassword:function(e){this.password=e.target.value,this.v$.password.$touch()},changeConfirmPassword:function(e){this.confirmPassword=e.target.value,this.v$.confirmPassword.$touch()},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.v$.$validate();case 2:n=t.sent,n&&!e.loading&&(e.loading=!0,Dt.resetPasswordToken(e.$route.query.email,e.password,e.$route.query.token).then((function(){e.confirmationMessage="Success, please close this page"})).catch((function(){var t={password:["An error occured, please try again later"]};Object.assign(e.vuelidateExternalResults,t)})).finally((function(){return e.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()}},validations:function(){return{password:{required:xt["d"],minLength:Object(xt["c"])(6)},confirmPassword:{required:xt["d"],sameAsConfirmPassword:Object(xt["e"])(this.password)}}}};const yr=v()(wr,[["render",xr]]);var kr=yr,$r={class:"mx-auto mt-5 border-2 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},Cr={class:"flex items-center justify-between"},Rr=Object(r["j"])("span",null,"Reset Password",-1),Sr={class:"flex flex-col gap-2 p-4"},Er=["value"],Ar=["value"],Pr=["disabled"],Tr={key:0},Lr=Object(r["j"])("i",{class:"fas fa-circle-notch animate-spin"},null,-1),Ir=Object(r["k"])(" Processing "),Mr=[Lr,Ir],Nr={key:1},_r={class:"p-2 mx-auto mt-5 rounded shadow-lg sm:w-6/12 xl:max-w-2xl"},Gr={class:"fixed inset-0 z-10 overflow-y-auto"},Dr={class:"min-h-screen px-4 text-center"},Fr=Object(r["j"])("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," ​ ",-1),qr={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white border-2 rounded shadow-xl"},Kr=Object(r["k"])(" Delete your Account? "),Ur=Object(r["j"])("div",{class:"mt-2"},[Object(r["j"])("p",{class:"text-sm text-gray-500"}," This action is irreversible. This will delete all your account information including all assignments. ")],-1),Hr={class:"mt-4"},Vr={class:"flex flex-col gap-2"},Br={class:"border-2"},zr={class:"flex gap-2"};function Jr(e,t,n,s,a,o){var i=Object(r["H"])("DisclosureButton"),c=Object(r["H"])("DisclosurePanel"),l=Object(r["H"])("Disclosure"),u=Object(r["H"])("DialogOverlay"),d=Object(r["H"])("DialogTitle"),b=Object(r["H"])("TransitionChild"),m=Object(r["H"])("Dialog"),g=Object(r["H"])("TransitionRoot");return Object(r["C"])(),Object(r["i"])("div",null,[Object(r["j"])("div",$r,[Object(r["l"])(l,null,{default:Object(r["S"])((function(n){var a=n.open;return[Object(r["l"])(i,{class:Object(r["u"])(["w-full px-4 py-2 text-left hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-green-700",a?"border-b-2 border-gray-400 rounded-t":"  rounded "])},{default:Object(r["S"])((function(){return[Object(r["j"])("div",Cr,[Rr,Object(r["j"])("i",{class:Object(r["u"])(["fas",a?"fa-chevron-up":"fa-chevron-down"])},null,2)])]})),_:2},1032,["class"]),Object(r["l"])(c,{class:"px-4"},{default:Object(r["S"])((function(){return[Object(r["j"])("div",Sr,[Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.password.$error&&"error"]),type:"password",placeholder:"Password",value:e.password,onInput:t[0]||(t[0]=function(){return o.changePassword&&o.changePassword.apply(o,arguments)}),onKeyup:t[1]||(t[1]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,Er),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.password.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.password.$errors,{name:"Password",length:6})),3),Object(r["j"])("input",{class:Object(r["u"])(["textbox",s.v$.confirmPassword.$error&&"error"]),type:"password",placeholder:"Confirm Password",value:e.confirmPassword,onInput:t[2]||(t[2]=function(){return o.changeConfirmPassword&&o.changeConfirmPassword.apply(o,arguments)}),onKeyup:t[3]||(t[3]=Object(r["U"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["enter"]))},null,42,Ar),Object(r["j"])("div",{class:Object(r["u"])(["text-xs text-red-500",s.v$.confirmPassword.$error?"visible":"invisible"])},Object(r["K"])(o.getErrorText(s.v$.confirmPassword.$errors,{name:"Confirm Password"})),3),Object(r["j"])("button",{class:Object(r["u"])(["w-full p-2 font-bold text-white rounded shadow focus:outline-none",e.loading?"bg-gray-700 cursor-default":"green-button"]),disabled:e.loading,onClick:t[4]||(t[4]=function(){return o.submitForm&&o.submitForm.apply(o,arguments)})},[e.loading?(Object(r["C"])(),Object(r["i"])("div",Tr,Mr)):(Object(r["C"])(),Object(r["i"])("div",Nr,"Reset Password"))],10,Pr),Object(r["j"])("div",null,[Object(r["j"])("p",null,Object(r["K"])(e.confirmationMessage),1)])])]})),_:1})]})),_:1})]),Object(r["j"])("div",_r,[Object(r["l"])(g,{appear:"",show:e.isOpen,as:"template"},{default:Object(r["S"])((function(){return[Object(r["l"])(m,{as:"div",onClose:t[6]||(t[6]=function(t){return e.isOpen=!1})},{default:Object(r["S"])((function(){return[Object(r["j"])("div",Gr,[Object(r["j"])("div",Dr,[Object(r["l"])(u,{class:"fixed inset-0 bg-black opacity-60"}),Fr,Object(r["l"])(b,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Object(r["S"])((function(){return[Object(r["j"])("div",qr,[Object(r["l"])(d,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:Object(r["S"])((function(){return[Kr]})),_:1}),Ur,Object(r["j"])("div",Hr,[Object(r["j"])("button",{type:"button",class:"p-2 text-white rounded shadow focus:outline-none red-button",onClick:t[5]||(t[5]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})}," Confirm Delete ")])])]})),_:1})])])]})),_:1})]})),_:1},8,["show"]),Object(r["j"])("div",Vr,[Object(r["j"])("div",Br,Object(r["K"])(o.editText),1)]),Object(r["j"])("div",zr,[Object(r["j"])("button",{class:"flex-1 flex-grow p-2 font-bold text-white rounded shadow focus:outline-none red-button",onClick:t[7]||(t[7]=function(){return o.submitLogOut&&o.submitLogOut.apply(o,arguments)})}," Log Out "),Object(r["j"])("button",{class:"flex-1 flex-grow p-2 font-bold text-white rounded shadow focus:outline-none red-button",onClick:t[8]||(t[8]=function(){return o.openModal&&o.openModal.apply(o,arguments)})}," Delete Account ")])])])}var Yr=n("b8b6"),Wr=n("f247"),Qr={setup:function(){return{v$:Object(vt["a"])()}},name:"AccountView",components:{Dialog:Yr["a"],DialogOverlay:Yr["b"],DialogTitle:Yr["c"],TransitionRoot:Wr["b"],TransitionChild:Wr["a"],Disclosure:rt["a"],DisclosureButton:rt["b"],DisclosurePanel:rt["c"]},data:function(){return{isOpen:!1,password:"",confirmPassword:"",confirmationMessage:"",loading:!1,vuelidateExternalResults:{password:[]}}},methods:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(p["b"])("AuthModule",["actionLogOut","actionCheckLoggedIn"])),Object(p["b"])("RGradingGradescope",["getAssignments"])),{},{submitLogOut:function(){var e=this;this.actionLogOut().then((function(){e.$router.push({name:"Login"})}))},closeModal:function(){var e=this;Dt.deleteAccount(this.token).then((function(){return e.actionLogOut().then((function(){return e.$router.push({name:"Login"})}))})).catch((function(e){return console.log(e)})),this.isOpen=!1},openModal:function(){this.isOpen=!0},getErrorText:function(e,t){return Ct(e,t)},changePassword:function(e){this.password=e.target.value,this.v$.password.$touch()},changeConfirmPassword:function(e){this.confirmPassword=e.target.value,this.v$.confirmPassword.$touch()},submitForm:function(){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.v$.$validate();case 2:n=t.sent,n&&!e.loading&&(e.loading=!0,Dt.resetPasswordLoggedIn(e.token,e.password).then((function(){e.confirmationMessage="Success"})).catch((function(){var t={password:["An error occured, please try again later"]};Object.assign(e.vuelidateExternalResults,t)})).finally((function(){return e.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()}}),computed:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(p["e"])("AuthModule",["email","isLoggedIn","token"])),Object(p["e"])("RGradingGradescope",["listOfAssignments"])),{},{editText:function(){return this.listOfAssignments.length?"".concat(this.listOfAssignments.length," assignments in R"):"You have no assignments"}}),validations:function(){return{password:{required:xt["d"],minLength:Object(xt["c"])(6)},confirmPassword:{required:xt["d"],sameAsConfirmPassword:Object(xt["e"])(this.password)}}},created:function(){this.getAssignments()}};const Xr=v()(Qr,[["render",Jr]]);var Zr=Xr,es=n("2909"),ts=(n("4e82"),n("7de3")),ns=function(){return{bundleName:"",assignmentName:"",packageNames:"",isDatasetsSelected:!1,isPackagesSelected:!1,isSetupSelected:!1,setupCode:"",datasets:[],fileNames:[],testsCollection:[{label:"",visibility:"",code:""}],assignmentToEditId:null,listOfAssignments:[],lastModified:null}},rs={fileNames:function(e){return e.fileNames},numberOfTests:function(e){return e.testsCollection.length},isDatasetsSynced:function(e){var t=Object(es["a"])(e.datasets).map((function(e){return e.name})).sort(),n=Object(es["a"])(e.fileNames).sort();return t.length===n.length&&t.every((function(e,t){return e===n[t]}))}},ss={incrementNumberOfTests:function(e){var t=e.commit,n=e.state;t("setTestsCollection",[].concat(Object(es["a"])(n.testsCollection),[{label:"",visibility:"",code:""}]))},removeTest:function(e,t){var n=e.commit,r=e.state,s=e.getters;s.numberOfTests>1&&n("setTestsCollection",r.testsCollection.filter((function(e,n){return n!==t})))},getAssignments:function(e){var t=e.commit,n=e.rootState,r=e.dispatch;Dt.getAssignments(n.AuthModule.token).then((function(e){var n=e.data.map((function(e){return{id:e.id,bundleName:e.bundle_name,lastModified:Date.parse(e.last_modified)}}));n.sort((function(e,t){return Object(ts["a"])(e.lastModified,t.lastModified)})),t("setListOfAssignments",n)})).catch((function(e){r("AuthModule/actionCheckLoggedIn",null,{root:!0}),console.log({error:e})}))},getAssignment:function(){var e=Object(tt["a"])(regeneratorRuntime.mark((function e(t){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,r=t.rootState,s=t.state,Dt.getAssignment(r.AuthModule.token,s.assignmentToEditId).then((function(e){var t=e.data;n("setLastModified",Date.parse(t.last_modified)),n("setBundleName",t.bundle_name),n("setAssignmentName",t.assignment_name),n("setSetupCode",t.setup_code),n("setTestsCollection",t.tests_collection),n("setPackageNames",t.package_names),n("setDatasets",[]),n("setFileNames",t.datasets?t.datasets:[]),s.fileNames.length?(n("setFileNames",s.fileNames),n("setIsDatasetsSelected",!0)):n("setIsDatasetsSelected",!1),t.setup_code?n("setIsSetupSelected",!0):n("setIsSetupSelected",!1),t.package_names?n("setIsPackagesSelected",!0):n("setIsPackagesSelected",!1)})).catch((function(e){return console.log({error:e})}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),createAssignment:function(){var e=Object(tt["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.rootState,r=t.dispatch,Dt.createAssignment(n.AuthModule.token).then((function(){r("getAssignments")})).catch((function(e){return console.log({error:e})}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleteAssignment:function(e,t){var n=e.rootState,r=e.dispatch;Dt.deleteAssignment(n.AuthModule.token,t).then((function(){r("getAssignments")})).catch((function(e){return console.log(e)}))},saveAssignment:function(){var e=Object(tt["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.rootState,r=t.state,s=t.commit,a=t.dispatch,Dt.saveAssignment(n.AuthModule.token,r.assignmentToEditId,r.bundleName,r.assignmentName,r.testsCollection,r.packageNames,r.fileNames,r.setupCode).then((function(e){return s("setLastModified",Date.parse(e.data.last_modified))})).catch((function(e){a("AuthModule/actionCheckLoggedIn",null,{root:!0}),console.log({error:e})}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),clearAssignmentStore:function(){var e=Object(tt["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("setBundleName",""),n("setAssignmentName",""),n("setPackageNames",""),n("setIsSetupSelected",!1),n("setIsPackagesSelected",!1),n("setIsDatasetsSelected",!1),n("setSetupCode",""),n("setDatasets",[]),n("setTestsCollection",[{label:"",visibility:"",code:""}]),n("setAssignmentToEditId",null),n("setListOfAssignments",[]);case 12:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},as={setBundleName:function(e,t){e.bundleName=t},setAssignmentName:function(e,t){e.assignmentName=t},setPackageNames:function(e,t){e.packageNames=t},setDatasets:function(e,t){e.datasets=t,t.length?e.fileNames=Object(es["a"])(t).map((function(e){return e.name})):e.fileNames=[]},setFileNames:function(e,t){e.fileNames=t},setIsDatasetsSelected:function(e,t){e.isDatasetsSelected=t},setIsPackagesSelected:function(e,t){e.isPackagesSelected=t},setIsSetupSelected:function(e,t){e.isSetupSelected=t},setSetupCode:function(e,t){e.setupCode=t},setTestsCollection:function(e,t){e.testsCollection=t},setAssignmentToEditId:function(e,t){e.assignmentToEditId=t},setListOfAssignments:function(e,t){e.listOfAssignments=t},setLastModified:function(e,t){e.lastModified=t}},os={namespaced:!0,state:ns,getters:rs,actions:ss,mutations:as},is=function(){return{email:"",token:"",isLoggedIn:!1,isErrorLoggingIn:!1,errorLoggingIn:{},isErrorRegistering:!1}},cs={},ls={actionGetToken:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.dispatch,n.abrupt("return",Dt.logInGetToken(t.email,t.password).then((function(e){var n=e.data.access_token;n&&wt(n),r("commitSetToken",n),s("actionLogIn",t.email)})).catch((function(e){r("commitSetIsErrorLoggingIn",!0),r("commitSetErrorLoggingIn",{error:e}),r("commitSetEmail","")})));case 2:case"end":return n.stop()}}),n)})))()},actionRegister:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Dt.registerAccount(t.email,t.password);case 4:r("commitSetIsErrorRegistering",!1),r("commitSetIsErrorLoggingIn",!1),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),r("commitSetIsErrorRegistering",!0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},actionCheckLoggedIn:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.state,s=e.dispatch,a=r.token,a||(o=yt(),o&&(n("commitSetToken",o),a=o)),!a){t.next=16;break}return t.prev=4,t.next=7,Dt.getAccount(a);case 7:i=t.sent,s("actionLogIn",i.data.email),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),s("actionLogOut");case 14:t.next=17;break;case 16:s("actionLogOut");case 17:case"end":return t.stop()}}),t,null,[[4,11]])})))()},actionLogIn:function(e,t){return Object(tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("commitSetIsLoggedIn",!0),r("commitSetIsErrorLoggingIn",!1),r("commitSetErrorLoggingIn",{}),r("commitSetEmail",t);case 5:case"end":return n.stop()}}),n)})))()},actionLogOut:function(e){return Object(tt["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r=e.state,s=e.dispatch,kt(),n("commitSetEmail",""),n("commitSetToken",""),r.isLoggedIn&&s("RGradingGradescope/clearAssignmentStore",null,{root:!0}),n("commitSetIsLoggedIn",!1);case 6:case"end":return t.stop()}}),t)})))()}},us={commitSetToken:function(e,t){e.token=t},commitSetIsLoggedIn:function(e,t){e.isLoggedIn=t},commitSetEmail:function(e,t){e.email=t},commitSetIsErrorLoggingIn:function(e,t){e.isErrorLoggingIn=t},commitSetErrorLoggingIn:function(e,t){e.errorLoggingIn=t},commitSetIsErrorRegistering:function(e,t){e.isErrorRegistering=t}},ds={namespaced:!0,state:is,getters:cs,actions:ls,mutations:us},bs=Object(p["a"])({state:{},mutations:{},actions:{},modules:{RGradingGradescope:os,AuthModule:ds},strict:!1}),ms=[{path:"/",name:"Home",component:I},{path:"/grading",name:"Grading",redirect:{name:"Edit"},component:G,children:[{path:"edit",component:Ut,name:"Edit",beforeEnter:function(){if(bs.state.AuthModule.isLoggedIn&&!bs.state.RGradingGradescope.assignmentToEditId)return{name:"List"}}},{path:"list",component:mn,name:"List",beforeEnter:function(){if(!bs.state.AuthModule.isLoggedIn)return{name:"Edit"}}}]},{path:"/login",name:"Login",component:An,beforeEnter:function(){if(bs.state.AuthModule.isLoggedIn)return{name:"Account"}}},{path:"/register",name:"Register",component:zn,beforeEnter:function(){if(bs.state.AuthModule.isLoggedIn)return{name:"Account"}}},{path:"/request_password_reset",name:"RequestPasswordReset",component:lr,beforeEnter:function(){if(bs.state.AuthModule.isLoggedIn)return{name:"Account"}}},{path:"/password_reset",name:"PasswordReset",component:kr,beforeEnter:function(e){return bs.state.AuthModule.isLoggedIn?{name:"Account"}:"email"in e.query&&"token"in e.query?void 0:{name:"Login"}}},{path:"/account",name:"Account",component:Zr,beforeEnter:function(){if(!bs.state.AuthModule.isLoggedIn)return{name:"Login"}}}],gs=Object(C["a"])({history:Object(C["b"])("/"),routes:ms});gs.beforeEach((function(){return bs.dispatch("AuthModule/actionCheckLoggedIn")}));var fs=gs;n("565d");Object(r["f"])($).use(bs).use(fs).mount("#app")},d0b7:function(e,t,n){},daae:function(e,t,n){"use strict";n("d0b7")},dabf:function(e,t,n){"use strict";n("2341")}});
//# sourceMappingURL=index.402dcc3f.js.map